const ModuleBlackjack=(()=>{"use strict";const e=document.querySelector("#newGame"),n=document.querySelector("#requestC"),t=document.querySelector("#stop"),r=document.querySelectorAll("small"),o=document.querySelector("#player-cards"),l=document.querySelector("#computer-cards"),s=["C","D","H","S"],c=["A","J","Q","K"];let a=[],d=[];const u=(s=2)=>{a=i(),d=[];for(let e=0;e<s;e++)d.push(0),r[e].innerHTML=d[e];l.innerHTML="",o.innerHTML="",n.disabled=!1,t.disabled=!1,e.disabled=!1},i=()=>{a=[];for(let e=2;e<=10;e++)for(let n of s)a.push(`${e}${n}`);for(let e of s)for(let n of c)a.push(`${n}${e}`);return _.shuffle(a)},p=()=>{if(0===a.length)throw"No hay cartas en el deck";return a.pop()},h=e=>{const n=document.createElement("img");return n.src=`assets/cards/${e}.png`,n.classList.add("cards"),n},g=(e,n)=>(d[e]+=(e=>{console.log(e);const n=e.substring(0,e.length-1);return isNaN(n)?"A"===n?11:10:parseInt(n)})(n),console.log(d[e]),d[e]),m=e=>{do{const n=p();if(g(d.length-1,n),l.append(h(n)),r[r.length-1].innerHTML=d[d.length-1],e>21)break}while(d[d.length-1]<=e&&d[d.length-1]<=21);n.disabled=!0,t.disabled=!0,d[0]===d[d.length-1]?console.warn("Empate!!!"):d[0]>21?console.warn("perdiste!!!"):d[d.length-1]>21?console.warn("Ganaste!!"):d[d.length-1]>d[0]&&console.warn("perdiste!!!")};return n.addEventListener("click",()=>{const e=p();console.log(e);const n=g(0,e);o.append(h(e)),r[0].innerHTML=parseInt(d),n>21&&m()}),e.addEventListener("click",()=>{u()}),t.addEventListener("click",()=>{m(d[0])}),{newGame:u}})();